<!doctype html>
<html>
<head>
        <title>Node Authentication</title>
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <link rel="stylesheet" href="lib/uni.css">
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script><!-- load bootstrap css -->
        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css"> <!-- load fontawesome -->
    	
    <style>
        body        { padding-top:25px; }
    </style>
</head>
<body>


<div class="container">
    <h1>REGISTER</h1>

    <!-- show any messages that come back with authentication -->
    <% if(typeof(errorMessage) !== 'undefined') {%>
         <div class="alert alert-danger"><%= errorMessage %></div>
    <% } %>
    <script>
    function check_pass() {
    if(document.getElementById('password').value === document.getElementById('confirm_password').value) {
        document.getElementById('message').innerHTML = "<p class='text-success'>match</p>";
        
    } else {
        document.getElementById('message').innerHTML = "<p class='text-danger'>not match</p>";
        return false;
    }
    }
    function check_email() {
    if(document.getElementById('email').value === document.getElementById('confirm_email').value) {
        document.getElementById('message1').innerHTML = "<p class='text-success'>match</p>";
    } else {
        document.getElementById('message1').innerHTML = "<p class='text-danger'>not match</p>";
    }
    }
    function checkForm(form){
    if(form.password.value == form.confirm_password.value && form.email.value == form.confirm_email.value) {
      return true;
    } else {
           if(form.password.value != form.confirm_password.value && form.email.value == form.confirm_email.value){
               document.getElementById("alert").className = "alert alert-danger";
               document.getElementById('alert').innerHTML = "<strong>Please check that you've entered and confirmed your password!</strong>";
               form.confirm_password.focus();
               return false;
           }else{
               if(form.email.value != form.confirm_email.value && form.password.value == form.confirm_password.value){
               document.getElementById("alert").className = "alert alert-danger";
               document.getElementById('alert').innerHTML = "<strong>Please check that you've entered and confirmed your email!</strong>";
               form.confirm_email.focus();
               return false;
               }if(form.password.value != form.confirm_password.value && form.password.value != form.confirm_password.value){
           document.getElementById("alert").className = "alert alert-danger";
           document.getElementById('alert').innerHTML = "<strong>Please check that you've entered and confirmed your password and email!</strong>";
           form.confirm_password.focus();
           return false;
           }
           
      }
    }
    }
    
    </script>
    <button type="button" class="btn btn-info btn-sm" data-toggle="modal" data-target="#myModal2 ">Register</button>
    <div class="modal fade" id="myModal2" role="dialog">
         <div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-body">
    <button type="button" class="close" data-dismiss="modal">&times;</button><br>
    <form action="/signup" method="post" onsubmit="return checkForm(this);">

        <br><div class="form-group">
            <div id="alert" class="hide" role="alert"></div>
            <br>
	    <label class="col-sm-2 control-label"><font color="red">*</font> Username</label> 
		
		<div class="col-sm-3">
            		<input type="text" class="form-control" name="username" id="username" placeholder="username" required="true">
		</div>
        </div>
	
	
        <br><div class="form-group">
            <label class="col-sm-2 control-label"><font color="red">*</font> Password</label>
		<div class="col-sm-3">
            		<input type="password" class="form-control" name="password" id="password" placeholder="password" required="true" onchange="check_pass();">
		</div>
        </div>

	<br><div class="form-group">
	    <label class="col-sm-2 control-label"><font color="red">*</font> Confirm Password</label>
		<div class="col-sm-3">
        </div>

       <br><div class="form-group">
	    <label class="col-sm-2 control-label"><font color="red">*</font> First Name</label>
		<div class="col-sm-2">
            		<input type="text" class="form-control" name="NameE" id="NameE" placeholder="firstName" required="true">
		</div>
        </div>

        <br><div class="form-group">
            <label class="col-sm-2 control-label"><font color="red">*</font> Last Name</label>
		<div class="col-sm-4">
            		<input type="text" class="form-control" name="LastNameE" id="LastNameE" placeholder="lastName" required="true">
		</div>
        </div>

	<br><div class="form-group">
            <label class="col-sm-2 control-label"><font color="red">*</font> Organization</label>
                <div class="col-sm-4">
                    <select name="org" class="form-control" title="Organization" required>
                        <option value="">Please Select</option>
                        <option value="1">Chulalongkorn University</option>
                        <option value="2">Kasetsart University</option>
                        <option value="3">Khon Kean University</option>
                        <option value="4">Chiang Mai University</option>
			<option value="5">Thaksin University</option>
                        <option value="6">King Mongkut's University of Technology Thonburi</option>
                        <option value="7">King Mongkut's University of Technology North Bangkok</option>
                        <option value="8">Suranaree University of Technology</option>
			<option value="9">Thammasat University</option>
                        <option value="10">Nakhon Phanom University</option>
                        <option value="11">Princess of Naradhiwas University</option>
                        <option value="12">Naresuan University</option>
			<option value="13">Burapha University</option>
                        <option value="14">University of Phayao</option>
                        <option value="15">Mahasarakham University</option>
                        <option value="16">Mahidol University</option>
			<option value="17">Maejo University</option>
                        <option value="18">Mae Fah Luang University</option>
                        <option value="19">Walailak University</option>
                        <option value="20">Srinakharinwirot University</option>
			<option value="21">Silpakorn University</option>
                        <option value="22">Prince of Songkla University</option>
                        <option value="23">Ubon Ratchathani University</option>
                        <option value="24">King Mongkut's Institute of Technology Ladkrabang</option>


                    </select>
                </div>
        </div>


        <br><div class="form-group">
	    <label class="col-sm-2 control-label"><font color="red">*</font> Phone number</label>
		<div class="col-sm-3">
            		<input type="text" class="form-control" name="phone" id="phone" placeholder="phone" required="true">
		</div>
        </div>

        <br><div class="form-group">
	    <label class="col-sm-2 control-label"><font color="red">*</font> Email</label>
		<div class="col-sm-3">
            		<input type="text" class="form-control" name="email" id="email" placeholder="email" required="true" onchange="check_email();">
		</div>
        </div>

	<br><div class="form-group">
	    <label class="col-sm-2 control-label"><font color="red">*</font> Confirm Email</label>
		<div class="col-sm-3">
            		<input type="text" class="form-control" name="confirm_email" id="confirm_email" placeholder="confirm_email" required="true" onchange="check_email();">
		</div><div class="col-sm-3" id='message1'></div>
        </div><br>

        <div class="form-group">
	    <label class="col-sm-2 control-label"><font color="red">*</font> Member Type</label>
		<div class="col-sm-3">
            		<input type="text" class="form-control" name="membertype" id="membertype" placeholder="membertype" required="true">
		</div>
        </div>

        <br><div class="form-group">
            <label class="col-sm-2 control-label"><font color="red">*</font> Role</label>
		<div class="col-sm-3">
            		<input type="text" class="form-control" name="role" id="role" placeholder="role" required="true">
		</div>
        </div>

        <br><div class="form-group">
            <label class="col-sm-2 control-label"><font color="red">*</font> Flag</label>
		<div class="col-sm-3">
            		<input type="text" class="form-control" name="flag" id="flag" placeholder="flag" required="true">
		</div>
        </div>
        </div>
        <div class="modal-footer">
        <br><button type="submit" class="btn btn-warning btn-lg">Signup</button>
    </form>
    </div>
    </div>
</div>
</div>
    <hr>

    <p>Already have an account? <a href="/signin">Signin</a></p>

</div>

</body>
</html>
